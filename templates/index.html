<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Extreme Weather Probability Dashboard</title>
    <!-- Leaflet CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <!-- Leaflet JS -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js">
    </script>
    <link rel="stylesheet" href="/static/style.css">
</head>

<body>
    <div class="container">
        <div class="header-card">
            <h1>Extreme Weather Probability</h1>

            <div class="search-row">
                <div class="input-wrapper">
                    <span class="input-icon">üîç</span>
                    <input type="text" placeholder="Enter city (e.g., Karachi)" id="cityInput">
                </div>
                <div class="input-wrapper">
                    <span class="input-icon">üìç</span>
                    <input type="text" placeholder="Or lat,lon (e.g., 24.86,67.00)" id="pinInput">
                </div>
                <div class="input-wrapper" style="flex: 0 0 auto;">
                    <span class="input-icon" style="left: 10px;">üìÖ</span>
                    <input type="date" id="dateInput" style="padding-left: 40px;">
                </div>
                <button class="check-btn" onclick="checkWeather()">Check Probability</button>
            </div>

            <div class="checkboxes">
                <div class="checkbox-item">
                    <input type="checkbox" id="hot" checked>
                    <label for="hot">Very hot</label>
                </div>
                <div class="checkbox-item">
                    <input type="checkbox" id="cold" checked>
                    <label for="cold">Very cold</label>
                </div>
                <div class="checkbox-item">
                    <input type="checkbox" id="wet">
                    <label for="wet">Very wet</label>
                </div>
                <div class="checkbox-item">
                    <input type="checkbox" id="windy">
                    <label for="windy">Very windy</label>
                </div>
                <div class="checkbox-item">
                    <input type="checkbox" id="uncomfortable">
                    <label for="uncomfortable">Uncomfortable</label>
                </div>
            </div>
        </div>

        <div class="dashboard-grid">
            <div class="card">
                <h2>Personalized Dashboard</h2>
                <div class="chart-container">
                    <div class="y-axis">
                        <span>100%</span>
                        <span>80%</span>
                        <span>40%</span>
                        <span>20%</span>
                        <span>0%</span>
                    </div>
                    <div class="bar-chart" id="barChart">
                        <!-- Dynamic bars will populate here -->
                    </div>
                </div>

                <!-- REPLACE THIS SECTION -->
                <div id="map" style="height: 300px; border-radius: 12px; margin-top: 20px;"></div>
                <!-- END REPLACE -->
            </div>

            <div class="card">
                <h2>Time series trends</h2>
                <svg class="line-chart" id="lineChart" viewBox="0 0 500 200" style="margin-bottom: 30px;">
                    <!-- Dynamic path will update here -->
                </svg>

                <div class="info-card" id="infoCard">
                    <div class="info-icons">üî•üíß</div>
                    <div class="info-text">
                        <h3>Very much</h3>
                        <p>For Karachi on July 15, there's 68% chance of extreme heat (above 40¬∞C) and a 20% chance of
                            heavy rain.</p>
                    </div>
                </div>

                <div class="download-buttons">
                    <button class="download-btn" onclick="downloadCSV()">Download CSV</button>
                    <button class="download-btn" onclick="downloadJSON()">Download JSON</button>
                </div>
            </div>
        </div>
    </div>

<script src="/static/script.js"></script>
</body>

</html>
